<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>함수와 함수표현식과 화살표</h1>
</body>
</html>
<script>
    //함수 - 항상 메모리를 차지하고 있다. 메모리의 운영차원에서 볼때 유연성이 떨어진다
    function sigma(limit=10)
    {
        sum=0;
        for(i=1; i<=limit; i++)
        {
            sum+=i;
        }
        return sum;    
    }

    //함수표현식 : 함수의 이름이 없다. 이건 호출되는 시점에 만들어진다. 
    //변수에 저장해놓고 써야 한다 => 보통은 이벤트 핸들러 사용시 많이 사용한다. 
    let myfunction = function(limit=10)   {
        sum=0;
        for(i=1; i<=limit; i++)
        {
            sum+=i;
        }
        return sum;    
    }

    console.log(sigma());  //함수호출
    console.log(myfunction());//변수를 통해서 함수를 호출한다 

    //화살표함수
    let arrow = (limit=10)=>  {
        sum=0;
        for(i=1; i<=limit; i++)
        {
            sum+=i;
        }
        return sum;    
    }

    console.log(arrow());

    let fruits = ["사과", "배", "수박", "포도", "복숭아", "참외", "자두"];

    function showItem(item){
        console.log( item );
    }
     
    fruits.forEach( showItem ); //함수를 매개변수로 받아간다. 


    fruits.forEach( function(item){
        console.log( item );
    });

    fruits.forEach( (item)=> console.log( item )  );

    console.log("글자수가 두개인 과일들만 추출");
    let results = []; //배열 객체 만들기 
    for( i=0; i<fruits.length; i++)
    {
        if( fruits[i].length==2)
        {
            results.push( fruits[i]);
        }
    }

    console.log(results);

    //모던스크립트 
    results = fruits.filter( (item) => { return item.length==2;} );
    console.log(results);

    results = fruits.filter( (item) =>  item.length==2 );
    console.log(results);

    fruits.filter( (item) =>  item.length==2 ) //반환값이 배열객체
          .forEach(console.log); //반환값이 없음 - 


    /*
    let numbers = [10,2,3,6,8,9,21,20,4,25,33];
    위 배열에서 각각 짝수와 홀수를 추출해보세요 (filter 사용하기)

    let words = ['school', 'hospital', 'desk', 'chair', 'language', 
                 'house', 'programming', 'survey', 'assembly', 'compiler', 
                 'interpreter' ];

    위 배열에서 문자열의 개수가 5개 이상인것만 추출하기 
    위 배열에서 단어가  h로 시작하는 것만 추출하기 
    위 배열에서 단어가  r을 포함하는 것만 추출하기 
    */

    let numbers = [10,2,3,6,8,9,21,20,4,25,33];
    let odds = numbers.filter( n=>n%2==1);
    let evens = numbers.filter( n=>n%2==0);
    console.log( odds );
    console.log( evens );
    

    let words = ['school', 'hospital', 'desk', 'chair', 'language', 
                 'house', 'programming', 'survey', 'assembly', 'compiler', 
                 'interpreter' ];

    words.filter( (w)=>w.length>=5)
          .forEach((w)=>console.log(w));

    results = words.filter( (w)=>w[0]=='h');
    console.log( results );

    results = words.filter( (w)=>w.indexOf('r')!=-1);
    console.log( results );

    //concat - 배열을 여러개 연결할때 
    let a = [1,2,3];
    let b =[4,5,6];
    c = a.concat(b);  //새로운 배열 객체를 만들어서 합쳐서 반환, a자신은 안바뀜 

    console.log( a );
    console.log( b );
    console.log( c );


    //flat : 다차원을 => 1차원 형태로 
    const arr1 = [0, 1, 2, [3, 4]];

    console.log(arr1.flat());
    console.log("전체요소의 합계 : ", arr1.flat()); // 합계 구하는 함수 없음 
    console.log("전체요소의 개수 : ", arr1.flat().length);
    // expected output: Array [0, 1, 2, 3, 4]

    const arr2 = [0, 1, [2, [3, [4, 5]]]];

    console.log(arr2.flat());
    // expected output: Array [0, 1, 2, Array [3, Array [4, 5]]]

    console.log(arr2.flat(2));
    // expected output: Array [0, 1, 2, 3, Array [4, 5]]

    console.log(arr2.flat(Infinity));
    // expected output: Array [0, 1, 2, 3, 4, 5]

    //map 함수는 => 배열의 모든 요소에 대해서 특정 연산을 수행하고 배열을 반환한다 
    results = words.map( w=> w.toUpperCase());
    console.log( results );

    //5글자 이상의 단어들만 대문자로 바꾸기 
    results = words.filter(w=>w.length>=5)
                   .map( w=> w.toUpperCase());
                   
    console.log( results );
</script>