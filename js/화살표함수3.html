<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>filter, map, find, sort, reduce </h1>
</body>
</html>

<script>
    s1 = "7,8,9,11,12,30,8,19,22,25,27,2,1"; //문자열로 전달 
    //배열로
    s2 = s1.split(","); //"문자열을 특정기호를 중심으로 나눠서 문자배열을 리턴하는 함수이다"
    console.log( s2 );  //반대역할 : join함수
    console.log( s2.join(" "));

    // for(i=0; i<s2.length; i++)
    //     s2[i] = parseInt(s2[i]);

    //map - 매개변수가 배열의 요소, 인덱스, 반환값이 하나존재해야 한다(연산이 수행된 )
    s2 = s2.map( item=>parseInt(item) ); //반환을 받아야 한다 
    console.log( s2 );

    //filter와 find 차이 배열의 요소, 인덱스, 반환값이 true 또는 false이어야 한다 
    // true인것만 모아준다 

    s3 = s2.filter( (item)=>item%2==0 );
    console.log( s3 ); //짝수 리스트가 반환된다.

    s3 = s2.find( (item)=>item%2==0 );
    console.log( s3 ); //짝수첫번째거 하나만 

    //존재유무
    s3 = s2.filter( (item)=>item%2==13 );
    console.log( s3 ); //13이 없으면 빈 배열 
    if( s3.length == 0)
        console.log("13은 없다");

    s3 = s2.find( (item)=>item%2==13 ); //없으면 undefined 가 온다 
    console.log( s3 ); //
    if( s3 == undefined)
        console.log("13은 없다");

    //index로 찾을때 존재하지 않으면 -1이 온다 
    index = s2.findIndex((item)=>item%2==13 );
    console.log( index );

    console.log("데이터정렬하기"); 
    // s2.sort((item1, item2)=> item1-item2);  자기 순서가 바뀐다. 
    // //정수의 경우 - 0 +
    // console.log(s2);
    // console.log(typeof s2[0]);
    //map처럼 원래 데이터는 간직하고 순서가 바뀐것을 반환받게 하고 싶다 

    s3 = s2.toSorted((item1, item2)=> item1-item2);
    console.log("원본",  s2);
    console.log("정렬된것",  s3);

    //데이터 전체 합계구하기 --> prev:이전값, current:현재값 반환이 있어야 한다 
    //누적연산을 수행할때 많이 사용한다 
    sum = s2.reduce( (prev, current)=> prev+current);
    console.log("합계 : ", sum);

    //배열안에 배열들이 
    arr =[ 
        [1,2,3],
        [4,5,6],
        [7,8,9],
        [10,11,12]
    ];

    //arr =>2차원배열 =>모든 요소에 대해서 5를 더하고자 한다 
    arr.map( (item, index)=>{
        //item요소는 1차원배열상태 
        item.map((item2, ii)=>{
                item2=item2+5;
            return item2;
        });
        return item;
    });

    console.log( arr );

</script>